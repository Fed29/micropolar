<!DOCTYPE html>

<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title></title> 
    <script type='text/javascript' src="../lib/d3.js"></script>
    <!--<script type='text/javascript' src="../micropolar.js"></script>-->
    <script type='text/javascript' src="../src/axis.js"></script>
    <script type='text/javascript' src="../src/util.js"></script>
    <script type='text/javascript' src="../src/bar_chart.js"></script>
    <script type='text/javascript' src="../src/clock.js"></script>
    <script type='text/javascript' src="../src/area_chart.js"></script>
    <script type='text/javascript' src="../src/stacked_area_chart.js"></script>
    <script type='text/javascript' src="../src/dot_plot.js"></script>
    <script type='text/javascript' src="../src/line_plot.js"></script>
    <script type='text/javascript' src="../src/factory.js"></script>
    <script type='text/javascript' src="../src/legend.js"></script>
    <link rel="stylesheet" type="text/css" href="./style.css">
</head>
<body>

<div id="container1"></div>
<div id="container2"></div>

<script>
(function(){

    // Mic patterns example
    ////////////////////////////////////////

    var colors = ['peru', 'darkviolet', 'deepskyblue', 'orangered', 'green'];

    var linePlot1 = micropolar.LinePlot().config({stroke: colors[0]});
    var linePlot2 = micropolar.LinePlot().config({stroke: colors[1]});
    var linePlot3 = micropolar.LinePlot().config({stroke: colors[2]});
    var linePlot4 = micropolar.LinePlot().config({stroke: colors[3]});
    var linePlot5 = micropolar.LinePlot().config({stroke: colors[4]});

    function generateData(equation){
        var step = 6;
        var data = d3.range(0, 360 + step, step).map(function(deg, index){
            var theta = deg * Math.PI / 180;
            var radius = equation(theta);
            return [deg, radius];
        });
        return data;
    }

    var data1 = generateData(function(theta){ return Math.abs(Math.cos(theta)); });
    var data2 = generateData(function(theta){ return Math.abs(0.5 + 0.5 * Math.cos(theta)); });
    var data3 = generateData(function(theta){ return Math.abs(0.25 + 0.75 * Math.cos(theta)); });
    var data4 = generateData(function(theta){ return Math.abs(0.7 + 0.3 * Math.cos(theta)); });
    var data5 = generateData(function(theta){ return Math.abs(0.37 + 0.63 * Math.cos(theta)); });

    var legend = micropolar.legend()
        .config({
            data: ['Figure 8', 'Cardioid', 'Hypercardioid', 'Subcardioid', 'Supercardioid'],
            colors: colors
        });

    var config = {
        geometry: [linePlot1, linePlot2, linePlot3, linePlot4, linePlot5],
        data: [data1, data2, data3, data4, data5],
        legend: legend,
        title: 'Microphone Patterns',
        height: 300, 
        width: 300, 
        angularTicksStep: 30,
        angularTicksSuffix: 'ยบ',
        minorTicks: 1,
        flip: true,
        originTheta: -90,
        radialAxisTheta: -90,
        radialTicksSuffix: 'dB',
        containerSelector: '#container1'
    };

    var polarAxis = micropolar.Axis().config(config);
    polarAxis();


    // Nightingale example
    ////////////////////////////////////////

    var data = [
            [ "Apr 1854", 1.4, "Disease"],
            [ "May 1854", 6.2, "Disease"],
            [ "Jun 1854", 4.7, "Disease"],
            [ "Jul 1854", 150, "Disease"],
            [ "Aug 1854", 328.5, "Disease"],
            [ "Sep 1854", 312.2, "Disease"],
            [ "Oct 1854", 197, "Disease"],
            [ "Nov 1854", 340.6, "Disease"],
            [ "Dec 1854", 631.5, "Disease"],
            [ "Jan 1855", 1022.8, "Disease"],
            [ "Feb 1855", 822.8, "Disease"],
            [ "Mar 1855", 480.3, "Disease"],
            [ "Apr 1854", 0, "Wounds"],
            [ "May 1854", 0, "Wounds"],
            [ "Jun 1854", 0, "Wounds"],
            [ "Jul 1854", 0, "Wounds"],
            [ "Aug 1854", 0.4, "Wounds"],
            [ "Sep 1854", 32.1, "Wounds"],
            [ "Oct 1854", 51.7, "Wounds"],
            [ "Nov 1854", 115.8, "Wounds"],
            [ "Dec 1854", 41.7, "Wounds"],
            [ "Jan 1855", 30.7, "Wounds"],
            [ "Feb 1855", 16.3, "Wounds"],
            [ "Mar 1855", 12.8, "Wounds"],
            [ "Apr 1854", 7, "Other"],
            [ "May 1854", 4.6, "Other"],
            [ "Jun 1854", 2.5, "Other"],
            [ "Jul 1854", 9.6, "Other"],
            [ "Aug 1854", 11.9, "Other"],
            [ "Sep 1854", 27.7, "Other"],
            [ "Oct 1854", 50.1, "Other"],
            [ "Nov 1854", 42.8, "Other"],
            [ "Dec 1854", 48, "Other"],
            [ "Jan 1855", 120, "Other"],
            [ "Feb 1855", 140.1, "Other"],
            [ "Mar 1855", 68.6, "Other"] 
        ];

    var polarPlot = micropolar.StackedAreaChart();

    var config = {
        data: data.map(function(d, i){ return [i%12, d[1], d[2]]; }),
        geometry: polarPlot,
        containerSelector: '#container2',
        width: 300,
        height: 300,
        flip: true,
        originTheta: -90,
        radialAxisTheta: -30,
        radialDomain: [0, 1174],
        margin: 35
    };

    var polarAxis = micropolar.Axis().config(config);
    polarAxis();

})();

</script>

</body>
</html>
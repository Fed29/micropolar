var micropolar={version:"0.2"},µ=micropolar;µ.Axis=function(){function e(){var i=a.data,l=a.axisConfig,o=a.geometryConfig,s=a.legendConfig,u=l.container;return("string"==typeof u||u.nodeName)&&(u=d3.select(u)),u.datum(i).each(function(e){function a(e){return n(e)%360+l.originTheta}function i(e,t){var r=t*Math.PI/180,n=e*Math.cos(r),a=e*Math.sin(r);return[n,a]}function u(e,t){var r=t||2,n=Math.pow(10,r);return Math.round(e*n)/n}function c(){var e=d3.mouse(D.node()),t=e[0],r=e[1],n={};return n.x=t,n.y=r,n.pos=e,n.angle=180*(Math.atan2(r,t)+Math.PI)/Math.PI,n.radius=Math.sqrt(t*t+r*r),n}var d=e.map(function(e){var t={};return t.name=e.name,t.x=Array.isArray(e.x[0])?e.x:[e.x],t.y=Array.isArray(e.y[0])?e.y:[e.y],t}),f=d[0].y,g=Array.isArray(e[0].y[0]);if(g){var y=[],p=f[0].map(function(){return 0});f.forEach(function(e){y.push(p),p=µ.util.sumArrays(e,p)}),d[0].yStack=y}var m,h=Math.min(l.width-l.margin.left-l.margin.right,l.height-l.margin.top-l.margin.bottom)/2,v=[l.margin.left+h,l.margin.top+h];if(g){var k=d3.max(µ.util.sumArrays(µ.util.arrayLast(f),µ.util.arrayLast(y)));m=[0,k]}else m=d3.extent(µ.util.flattenArray(d.map(function(e){return e.y})));r=d3.scale.linear().domain(l.radialDomain||m).range([0,h]);var x,C=µ.util.flattenArray(d.map(function(e){return e.x})),S="string"==typeof C[0];S&&(C=µ.util.deduplicate(C),x=C.slice(),C=d3.range(C.length),d=d.map(function(e){var t={name:e.name,x:[C],y:e.y,yStack:e.yStack};return g&&(t.yStack=e.yStack),t}));var b=d3.extent(C),T=l.angularDomain||b;l.needsEndSpacing&&(T[1]+=C[1]-C[0]);var w=l.angularTicksCount||4;w>8&&(w=w/(w/8)+w%8),l.angularTicksStep&&(w=(T[1]-T[0])/w);var A=l.angularTicksStep||(T[1]-T[0])/(w*(l.minorTicks+1));T[2]||(T[2]=A);var z=d3.range.apply(this,T);if(z=z.map(function(e){return parseFloat(e.toPrecision(12))}),n=d3.scale.linear().domain(T.slice(0,2)).range(l.flip?[0,360]:[360,0]),t=d3.select(this).select("svg.chart-root"),"undefined"==typeof t||t.empty()){var P='<svg xmlns="http://www.w3.org/2000/svg" class="chart-root"><g class="chart-group"><circle class="background-circle"></circle><g class="angular axis-group"></g><g class="geometry-group"></g><g class="radial axis-group"><circle class="outside-circle"></circle></g><g class="guides-group"><line></line><circle r="0"></circle></g></g><g class="legend-group"></g><g class="title-group"><text></text></g></svg>',L=(new DOMParser).parseFromString(P,"application/xml"),E=this.appendChild(this.ownerDocument.importNode(L.documentElement,!0));t=d3.select(E)}var M={fill:"none",stroke:l.tickColor},O={"font-size":l.fontSize,"font-family":l.fontFamily,fill:l.fontColor,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(e){return" "+e+" 0 "+l.fontOutlineColor}).join(",")};t.attr({width:l.width,height:l.height});var I=t.select(".chart-group").attr("transform","translate("+v+")");t.select(".guides-group").style({"pointer-events":"none"}),t.select(".angular.axis-group").style({"pointer-events":"none"}),t.select(".radial.axis-group").style({"pointer-events":"none"});var R=t.select(".radial.axis-group");if(l.showRadialCircle){var B=R.selectAll("circle.grid-circle").data(r.ticks(5));B.enter().append("circle").attr({"class":"grid-circle"}).style(M),B.attr("r",r),B.exit().remove()}R.select("circle.outside-circle").attr({r:h}).style(M);var D=t.select("circle.background-circle").attr({r:h}).style({fill:l.backgroundColor,stroke:l.stroke});if(l.showRadialAxis){var F=d3.svg.axis().scale(r).ticks(5).tickSize(5);R.call(F).attr({transform:"rotate("+l.radialAxisTheta+")"}),R.selectAll(".domain").style(M),R.selectAll("g>text").text(function(){return this.textContent+l.radialTicksSuffix}).style(O).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(){return"horizontal"===l.radialTickOrientation?"rotate("+-l.radialAxisTheta+") translate("+[0,O["font-size"]]+")":"translate("+[0,O["font-size"]]+")"}}),R.selectAll("g>line").style({stroke:"black"})}var W=t.select(".angular.axis-group").selectAll("g.angular-tick").data(z),q=W.enter().append("g").classed("angular-tick",!0);W.attr({transform:function(e,t){return"rotate("+a(e,t)+")"}}),W.exit().remove(),q.append("line").classed("grid-line",!0).classed("major",function(e,t){return 0==t%(l.minorTicks+1)}).classed("minor",function(e,t){return!(0==t%(l.minorTicks+1))}).style(M),q.selectAll(".minor").style({stroke:l.minorTickColor}),W.select("line.grid-line").attr({x1:l.tickLength?h-l.tickLength:0,x2:h}),q.append("text").classed("axis-text",!0).style(O);var j=W.select("text.axis-text").attr({x:h+l.labelOffset,dy:".35em",transform:function(e,t){var r=a(e,t),n=h+l.labelOffset,i=l.angularTickOrientation;return"horizontal"==i?"rotate("+-r+" "+n+" 0)":"radial"==i?270>r&&r>90?"rotate(180 "+n+" 0)":null:"rotate("+(180>=r&&r>0?-90:90)+" "+n+" 0)"}}).style({"text-anchor":"middle"}).text(function(e,t){return 0!=t%(l.minorTicks+1)?"":x?x[t/(l.minorTicks+1)]+l.angularTicksSuffix:e+l.angularTicksSuffix}).style(O);l.angularRewriteTicks&&j.text(function(e,t){return 0!=t%(l.minorTicks+1)?"":l.angularRewriteTicks(this.textContent,t)});var _=t.select("g.geometry-group").selectAll("g").size()>0;if(o[0]||_){var N=0;o.forEach(function(e,a){var i="geometry"+a,s=t.select("g.geometry-group").selectAll("g."+i).data([0]);s.enter().append("g").classed(i,!0),e.color||(e.color=l.defaultColorRange[N],N=(N+1)%l.defaultColorRange.length);var u=µ[o[a].geometry](),c=µ.util.deepExtend({},e);c.radialScale=r,c.angularScale=n,c.container=s,c.originTheta||(c.originTheta=l.originTheta),c.index=a,c.flip=l.flip;var f=µ.util.deepExtend(µ[e.geometry].defaultConfig().geometryConfig,c);u.config({data:d[a],geometryConfig:f})()})}if(s.showLegend){var K=d3.max(I.selectAll(".angular-tick text")[0].map(function(e){return e.getCTM().e+e.getBBox().width})),Z=t.select(".legend-group").attr({transform:"translate("+[h+K,l.margin.top]+")"}).style({display:"block"}),G=o.map(function(e){return e.symbol="line",e.visibleInLegend="undefined"==typeof e.visibleInLegend||e.visibleInLegend,e}),H=µ.util.deepExtend(µ.Legend.defaultConfig().legendConfig,s),J=µ.util.deepExtend(H,{container:Z,elements:G}),Q={data:d.map(function(e,t){return e.name||"Element"+t}),legendConfig:J};µ.Legend().config(Q)()}else t.select(".legend-group").style({display:"none"});if(l.title){var U=t.select("g.title-group text").attr({x:100,y:100}).style({"font-size":18,"font-family":l.fontFamily,fill:l.fontColor}).text(l.title),V=U.node().getBBox();U.attr({x:l.margin.left+h-V.width/2,y:V.height})}var X,Y,$=µ.tooltipPanel("angular").config({fontSize:8}),et=µ.tooltipPanel("radial").config({fontSize:8}),tt=µ.tooltipPanel("geometry").config({hasTick:!0});t.select(".geometry-group g").style({"pointer-events":"visible"});var rt=t.select(".guides-group");S||I.on("mousemove.angular-guide",function(){var e=c().angle;rt.select("line").attr({x1:0,y1:0,x2:-h,y2:0,transform:"rotate("+e+")"}).style({stroke:"grey",opacity:.5,"pointer-events":"none"});var t=(e+360+l.originTheta)%360;X=n.invert(t);var r=i(h+12,e+180);$.text(u(X)).move([r[0]+v[0],r[1]+v[1]])}).on("mouseout.angular-guide",function(){rt.select("line").style({opacity:0})}),I.on("mousemove.radial-guide",function(){var e=c().radius;rt.select("circle").attr({r:e}).style({stroke:"grey",fill:"none",opacity:.5}),Y=r.invert(c().radius);var t=i(e,l.radialAxisTheta);et.text(u(Y)).move([t[0]+v[0],t[1]+v[1]])}).on("mouseout.radial-guide",function(){rt.select("circle").style({opacity:0})}),t.selectAll(".geometry-group .mark").on("mouseenter.tooltip",function(){var e=d3.select(this),t=e.style("fill"),r=e.style("opacity")||1;e.attr({"data-fill":t}),e.attr({"data-opacity":r});var n=d3.hsl(t).darker();e.style({fill:n.toString(),opacity:1})}).on("mousemove.tooltip",function(e){var t=this.getBoundingClientRect(),r=[t.left+t.width/2,t.top+t.height/2],n="θ: "+u(e[0])+", r: "+u(e[1]),a=d3.select(this),i=a.attr("data-fill");tt.config({color:i}).text(n).move([r[0],r[1]])}).on("mouseout.tooltip",function(){tt.remove(),$.remove(),et.remove();var e=d3.select(this);e.style({fill:e.attr("data-fill"),opacity:e.attr("data-opacity")})})}),e}var t,r,n,a=µ.Axis.defaultConfig(),i=d3.dispatch("hover");return e.config=function(e){return arguments.length?(µ.util.deepExtend(a,e),this):a},e.radialScale=function(){return r},e.angularScale=function(){return n},e.svg=function(){return t},d3.rebind(e,i,"on"),e},µ.Axis.defaultConfig=function(){var e={data:[{x:[1,2,3,4],y:[10,11,12,13],name:"Line1"},{x:[21,22,23,24],y:[30,31,32,33],name:"Line2"}],geometryConfig:[],legendConfig:{showLegend:!0},axisConfig:{defaultColorRange:d3.scale.category10().range(),radialDomain:null,angularDomain:null,angularTicksStep:null,angularTicksCount:null,title:null,height:450,width:500,margin:{top:50,right:150,bottom:50,left:50},fontSize:11,fontColor:"black",fontFamily:"Tahoma, sans-serif",fontOutlineColor:"white",flip:!1,originTheta:0,labelOffset:10,radialAxisTheta:-45,radialTicksSuffix:"",angularTicksSuffix:"",angularTicks:null,showRadialAxis:!0,showRadialCircle:!0,minorTicks:1,tickLength:null,tickColor:"silver",minorTickColor:"#eee",angularRewriteTicks:null,radialRewriteTicks:null,angularTickOrientation:"horizontal",radialTickOrientation:"horizontal",container:"body",backgroundColor:"none",needsEndSpacing:!0}};return e},µ.util={},µ.util._override=function(e,t){for(var r in e)r in t&&(t[r]=e[r])},µ.util._extend=function(e,t){for(var r in e)t[r]=e[r]},µ.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},µ.util.dataFromEquation2=function(e,t){var r=t||6,n=d3.range(0,360+r,r).map(function(t){var r=t*Math.PI/180,n=e(r);return[t,n]});return n},µ.util.dataFromEquation=function(e,t,r){var n=t||6,a=[],i=[];d3.range(0,360+n,n).forEach(function(t){var r=t*Math.PI/180,n=e(r);a.push(t),i.push(n)});var l={x:a,y:i};return r&&(l.name=r),l},µ.util.ensureArray=function(e,t){if("undefined"==typeof e)return null;var r=[].concat(e);return d3.range(t).map(function(e,t){return r[t]||r[0]})},µ.util.fillArrays=function(e,t,r){return t.forEach(function(t){e[t]=µ.util.ensureArray(e[t],r)}),e},µ.util.deepExtend=function(e,t){for(var r in t)t[r]&&t[r].constructor&&t[r].constructor===Object?(e[r]=e[r]||{},arguments.callee(e[r],t[r])):e[r]=t[r];return e},µ.util.validateKeys=function(e,t){"string"==typeof t&&(t=t.split("."));var r=t.shift();return e[r]&&(!t.length||objHasKeys(e[r],t))},µ.util.sumArrays=function(e,t){return d3.zip(e,t).map(function(e){return d3.sum(e)})},µ.util.arrayLast=function(e){return e[e.length-1]},µ.util.arrayEqual=function(e,t){for(var r=Math.max(e.length,t.length,1);r-->=0&&e[r]===t[r];);return-2===r},µ.util.flattenArray=function(e){for(var t=[];!µ.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},µ.util.deduplicate=function(e){return e.filter(function(e,t,r){return r.indexOf(e)==t})},µ.PolyChart=function(){function e(){var e=t.geometryConfig,r=e.container;"string"==typeof r&&(r=d3.select(r)),r.datum(t.data).each(function(t){function r(t){var r=e.radialScale(t[1]),n=(e.angularScale(t[0])+e.originTheta)*Math.PI/180;return{r:r,θ:n}}function a(e){var t=e.r*Math.cos(e.θ),r=e.r*Math.sin(e.θ);return{x:t,y:r}}var i=!!t.yStack,l=t.y.map(function(e,r){return i?d3.zip(t.x[0],e,t.yStack[r]):d3.zip(t.x[0],e)}),o=e.angularScale,s=e.angularScale.copy().range(e.angularScale.range().slice().reverse()),u=e.flip?o:s,c={},d=e.radialScale.domain()[0];c.bar=function(t){var r=e.radialScale(t[1]),n=e.radialScale(d+(t[2]||0));e.barRadialOffset&&(n=190,r-=n);var a=e.barWidth;return"M"+[[r+n,-a/2],[r+n,a/2],[n,a/2],[n,-a/2]].join("L")+"Z"},c.dot=function(t,r){return d3.svg.symbol().size(e.dotSize).type(e.dotType)(t,r)},c.arc=d3.svg.arc().startAngle(function(){return-f+Math.PI/2}).endAngle(function(){return f+Math.PI/2}).innerRadius(function(t){return e.radialScale(d+(t[2]||0))}).outerRadius(function(t){return e.radialScale(d+(t[2]||0))+e.radialScale(t[1])});var f=u(l[0][1][0])*Math.PI/180/2,g={fill:function(t,r,n){return i?e.colorScale(n):e.color},stroke:e.strokeColor,"stroke-width":e.lineStrokeSize+"px","stroke-dasharray":n[e.dash],opacity:e.opacity,display:e.visible?"block":"none"},y=d3.select(this).classed("stacked-area-chart",!0),p=y.selectAll("g.layer").data(l);p.enter().append("g").classed("layer",!0);var m=p.selectAll("path.mark").data(function(e){return e});m.enter().append("path").attr({"class":"mark"}),m.attr({d:c[e.geometryType],transform:"dot"===e.geometryType?function(e){var t=a(r(e));return"translate("+[t.x,t.y]+")"}:function(t){return"rotate("+(e.originTheta+o(t[0]))+")"}}).style(g)})}var t=µ.PolyChart.defaultConfig(),r=d3.dispatch("hover"),n={solid:"none",dash:[5,2],dot:[2,5]};return e.config=function(e){return arguments.length?(µ.util.deepExtend(t,e),this):t},d3.rebind(e,r,"on"),e},µ.PolyChart.defaultConfig=function(){var e={data:{name:"geom1",x:[[1,2,3,4]],y:[[1,2,3,4]]},geometryConfig:{geometry:"LinePlot",geometryType:"arc",dotType:"circle",dotSize:64,barRadialOffset:null,barWidth:20,color:"#ffa500",strokeColor:"silver",dash:"solid",lineStrokeSize:1,flip:!0,originTheta:0,container:"body",opacity:1,radialScale:null,angularScale:null,index:0,visible:!0,visibleInLegend:!0,colorScale:d3.scale.category20()}};return e},µ.BarChart=function(){return µ.PolyChart()},µ.BarChart.defaultConfig=function(){var e={geometryConfig:{geometryType:"bar"}};return e},µ.AreaChart=function(){return µ.PolyChart()},µ.AreaChart.defaultConfig=function(){var e={geometryConfig:{geometryType:"arc"}};return e},µ.DotPlot=function(){return µ.PolyChart()},µ.DotPlot.defaultConfig=function(){var e={geometryConfig:{geometryType:"dot",dotType:"circle"}};return e},µ.LinePlot=function(){function e(){var e=t.geometryConfig,r=e.container;"string"==typeof r&&(r=d3.select(r)),r.datum(t.data).each(function(t){var r=d3.zip(t.x[0],t.y[0]),a=d3.svg.line.radial().interpolate(e.lineInterpolation).radius(function(t){return e.radialScale(t[1])}).angle(function(t){return e.angularScale(t[0])*Math.PI/180}),i={fill:"none","stroke-width":e.lineStrokeSize,stroke:e.color,"pointer-events":"stroke"},l=d3.select(this).classed("line-plot",!0),o=l.selectAll("path.mark").data([0]);o.enter().append("path").attr({"class":"mark"}),l.select("path.mark").datum(r).attr({d:a,transform:"rotate("+(e.originTheta+90)+")","stroke-width":e.lineStrokeSize+"px","stroke-dasharray":n[e.dash],opacity:e.opacity,display:e.visible?"block":"none"}).style(i)})}var t=µ.LinePlot.defaultConfig(),r=d3.dispatch("hover"),n={solid:"none",dash:[5,2],dot:[2,5]};return e.config=function(e){return arguments.length?(µ.util.deepExtend(t,e),this):t},d3.rebind(e,r,"on"),e},µ.LinePlot.defaultConfig=function(){var e={data:{name:"geom1",x:[[1,2,3,4]],y:[[1,2,3,4]]},geometryConfig:{geometry:"LinePlot",color:"#ffa500",dash:"solid",lineStrokeSize:2,lineInterpolation:"linear",flip:!0,originTheta:0,container:"body",opacity:1,radialScale:null,angularScale:null,index:0,visible:!0,visibleInLegend:!0}};return e},µ.Legend=function(){function e(){var r=t.legendConfig,n=t.data.filter(function(e,t){return r.elements[t]&&(r.elements[t].visibleInLegend||"undefined"==typeof r.elements[t].visibleInLegend)});r.reverseOrder&&(n=n.reverse());var a=r.container;("string"==typeof a||a.nodeName)&&(a=d3.select(a));var i=r.elements.map(function(e){return e.color}),l=r.fontSize,o=null==r.isContinuous?"number"==typeof n[0]:r.isContinuous,s=o?r.height:l*n.length,u=a.classed("legend-group",!0),c=u.selectAll("svg").data([0]),d=c.enter().append("svg").attr({width:300,height:s+l,xmlns:"http://www.w3.org/2000/svg","xmlns:xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});d.append("g").classed("legend-axis",!0),d.append("g").classed("legend-marks",!0);var f=d3.scale[o?"linear":"ordinal"]().domain(t.data).range(i),g=d3.scale[o?"linear":"ordinal"]().domain(n)[o?"range":"rangePoints"]([0,s]),y=function(e,t){var r=3*t;return"line"===e?"M"+[[-t/2,-t/12],[t/2,-t/12],[t/2,t/12],[-t/2,t/12]]+"Z":-1!=d3.svg.symbolTypes.indexOf(e)?d3.svg.symbol().type(e).size(r)():d3.svg.symbol().type("square").size(r)()};if(o){var p=c.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(i);p.enter().append("stop"),p.attr({offset:function(e,t){return 100*(t/(i.length-1))+"%"}}).style({"stop-color":function(e){return e}}),c.append("rect").classed("legend-mark",!0).attr({height:r.height,width:r.colorBandWidth,fill:"url(#grad1)"})}else{var m=c.select(".legend-marks").selectAll("path.legend-mark").data(n);m.enter().append("path").classed("legend-mark",!0),m.attr({transform:function(e){return"translate("+[l/2,g(e)+l/2]+")"},d:function(e,t){var n=r.elements[t].symbol;return y(n,l)},fill:function(e,t){return f(e,t)}}),m.exit().remove()}var h=d3.svg.axis().scale(g).orient("right"),v=c.select("g.legend-axis").attr({transform:"translate("+[o?r.colorBandWidth:l,l/2]+")"}).call(h);return v.selectAll(".domain").style({fill:"none",stroke:"none"}),v.selectAll("line").style({fill:"none",stroke:o?r.textColor:"none"}),v.selectAll("text").style({fill:r.textColor,"font-size":r.fontSize}),e}var t=µ.Legend.defaultConfig(),r=d3.dispatch("hover");return e.config=function(e){return arguments.length?(µ.util.deepExtend(t,e),this):t},d3.rebind(e,r,"on"),e},µ.Legend.defaultConfig=function(){var e={data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}};return e},µ.adapter={},µ.adapter.plotly=function(){var e={};return e.convert=function(e){var t={},r={};if(e.data){var n=e.data.slice();if(e.layout&&"stack"===e.layout.barmode){n.filter(function(e){return"PolarAreaChart"===e.type||"PolarBarChart"===e.type});var a=[],i={};n.forEach(function(e){"PolarAreaChart"===e.type||"PolarBarChart"===e.type?"undefined"==typeof i.y?(i=µ.util.deepExtend({},e),i.y=[i.y],a.push(i)):i.y.push(e.y.slice()):a.push(e)}),n=a}t.data=n.map(function(e){var t={x:e.x,y:e.y,name:e.name,type:e.type};return e.yStack&&(t.yStack=e.yStack),t}),t.geometryConfig=n.map(function(e){return r={},e.type&&(r.geometry=e.type.substr("Polar".length)),e.line&&e.line.color&&(r.color=e.line.color),e.line&&e.line.width&&(r.lineStrokeSize=e.line.width),e.line&&e.line.dash&&(r.dash=e.line.dash),e.line&&e.line.interpolation&&(r.lineInterpolation=e.line.interpolation),e.opacity&&(r.opacity=e.opacity),"undefined"!=typeof e.visible&&(r.visible=e.visible),"undefined"!=typeof e.visibleInLegend&&(r.visibleInLegend=e.visibleInLegend),e.marker&&e.marker.type&&(r.dotType=e.marker.type),e.marker&&e.marker.color&&(r.color=e.marker.color),e.marker&&e.marker.line&&e.marker.line.color&&(r.strokeColor=e.marker.line.color),e.marker&&e.marker.size&&(r.dotSize=e.marker.size),e.marker&&"undefined"!=typeof e.marker.barRadialOffset&&(r.barRadialOffset=e.marker.barRadialOffset),e.marker&&"undefined"!=typeof e.marker.barWidth&&(r.barWidth=e.marker.barWidth),r})}return e.layout&&(t.legendConfig={},r={},d3.entries(e.layout).forEach(function(e){if("height"===e.key&&(r.height=e.value),"width"===e.key&&(r.width=e.value),"title"===e.key&&(r.title=e.value),"showlegend"===e.key&&(t.legendConfig.showLegend=e.value),"direction"===e.key&&(r.flip="clockwise"===e.value),"needsEndSpacing"===e.key&&(r.needsEndSpacing=e.needsEndSpacing),"legend"===e.key&&e.value.traceorder&&(t.legendConfig.reverseOrder="reversed"===e.value.traceorder),"plot_bgcolor"===e.key&&(r.backgroundColor=e.value),"xaxis"===e.key&&("undefined"!=typeof e.value.range&&(r.angularDomain=e.value.range),"undefined"!=typeof e.value.tickCount&&(r.angularTicksCount=e.value.tickCount),"undefined"!=typeof e.value.tickStep&&(r.angularTicksStep=e.value.tickStep),"undefined"!=typeof e.value.minorTickCount&&(r.minorTicks=e.value.minorTickCount),e.value.suffix&&(r.angularTicksSuffix=e.value.suffix),"undefined"!=typeof e.value.flip&&(r.flip=e.value.flip),"undefined"!=typeof e.value.rewriteTicks&&(r.angularRewriteTicks=e.value.rewriteTicks)),"yaxis"===e.key&&("undefined"!=typeof e.value.range&&(r.radialDomain=e.value.range),e.value.suffix&&(r.radialTicksSuffix=e.value.suffix),"undefined"!=typeof e.value.orientation&&(r.radialAxisTheta=e.value.orientation),"undefined"!=typeof e.value.rewriteTicks&&(r.radialRewriteTicks=e.value.rewriteTicks),"undefined"!=typeof e.value.labelOffset&&(r.labelOffset=e.value.labelOffset)),"font"===e.key&&(e.value.size&&(r.fontSize=e.value.size),e.value.color&&(r.fontColor=e.value.color),e.value.family&&(r.fontFamily=e.value.family)),"margin"===e.key){var n=["t","r","b","l","pad"],a=["top","right","bottom","left","pad"];r.margin={},d3.entries(e.value).forEach(function(e){r.margin[a[n.indexOf(e.key)]]=e.value})}"orientation"===e.key&&(r.originTheta=e.value),"tickColor"===e.key&&(r.tickColor=e.value),"minorTickColor"===e.key&&(r.minorTickColor=e.value)}),t.axisConfig=r,e.container&&(t.axisConfig.container=e.container)),t},e};